[debug] [2024-10-13T19:31:59.617Z] ----------------------------------------------------------------------
[debug] [2024-10-13T19:31:59.619Z] Command:       /Users/oleksandrkorzun/.nvm/versions/node/v20.10.0/bin/node /Users/oleksandrkorzun/.nvm/versions/node/v20.10.0/bin/firebase deploy --only functions
[debug] [2024-10-13T19:31:59.619Z] CLI Version:   13.17.0
[debug] [2024-10-13T19:31:59.619Z] Platform:      darwin
[debug] [2024-10-13T19:31:59.619Z] Node Version:  v20.10.0
[debug] [2024-10-13T19:31:59.619Z] Time:          Sun Oct 13 2024 22:31:59 GMT+0300 (Eastern European Summer Time)
[debug] [2024-10-13T19:31:59.619Z] ----------------------------------------------------------------------
[debug] 
[debug] [2024-10-13T19:31:59.660Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-10-13T19:31:59.660Z] > authorizing via signed-in user (korzun.oleksandr@gmail.com)
[debug] [2024-10-13T19:31:59.660Z] [iam] checking project black-lion-limo for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2024-10-13T19:31:59.661Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/black-lion-limo:testIamPermissions [none]
[debug] [2024-10-13T19:31:59.661Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/black-lion-limo:testIamPermissions x-goog-quota-user=projects/black-lion-limo
[debug] [2024-10-13T19:31:59.661Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/black-lion-limo:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2024-10-13T19:32:00.433Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/black-lion-limo:testIamPermissions 200
[debug] [2024-10-13T19:32:00.434Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/black-lion-limo:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2024-10-13T19:32:00.434Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/black-lion-limo/serviceAccounts/black-lion-limo@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2024-10-13T19:32:00.434Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/black-lion-limo/serviceAccounts/black-lion-limo@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2024-10-13T19:32:01.194Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/black-lion-limo/serviceAccounts/black-lion-limo@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2024-10-13T19:32:01.194Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/black-lion-limo/serviceAccounts/black-lion-limo@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'black-lion-limo'...
[info] 
[info] i  deploying functions 
[debug] [2024-10-13T19:32:01.198Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/black-lion-limo [none]
[debug] [2024-10-13T19:32:01.479Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/black-lion-limo 200
[debug] [2024-10-13T19:32:01.480Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/black-lion-limo {"projectId":"black-lion-limo","projectNumber":"598290459206","displayName":"black-lion-limo","name":"projects/black-lion-limo","resources":{"hostingSite":"black-lion-limo"},"state":"ACTIVE","etag":"1_7653883e-1cb2-4ded-88a9-2441138de2b2"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2024-10-13T19:32:01.482Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/black-lion-limo/services/cloudfunctions.googleapis.com [none]
[debug] [2024-10-13T19:32:01.482Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/black-lion-limo/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/black-lion-limo
[debug] [2024-10-13T19:32:01.484Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/black-lion-limo/services/runtimeconfig.googleapis.com [none]
[debug] [2024-10-13T19:32:01.485Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/black-lion-limo/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/black-lion-limo
[debug] [2024-10-13T19:32:01.486Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/black-lion-limo/services/cloudbuild.googleapis.com [none]
[debug] [2024-10-13T19:32:01.486Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/black-lion-limo/services/cloudbuild.googleapis.com x-goog-quota-user=projects/black-lion-limo
[debug] [2024-10-13T19:32:01.487Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/black-lion-limo/services/artifactregistry.googleapis.com [none]
[debug] [2024-10-13T19:32:01.487Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/black-lion-limo/services/artifactregistry.googleapis.com x-goog-quota-user=projects/black-lion-limo
[debug] [2024-10-13T19:32:02.390Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/black-lion-limo/services/cloudbuild.googleapis.com 200
[debug] [2024-10-13T19:32:02.390Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/black-lion-limo/services/cloudbuild.googleapis.com [omitted]
[info] ✔  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2024-10-13T19:32:02.392Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/black-lion-limo/services/runtimeconfig.googleapis.com 200
[debug] [2024-10-13T19:32:02.392Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/black-lion-limo/services/runtimeconfig.googleapis.com [omitted]
[debug] [2024-10-13T19:32:02.399Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/black-lion-limo/services/artifactregistry.googleapis.com 200
[debug] [2024-10-13T19:32:02.399Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/black-lion-limo/services/artifactregistry.googleapis.com [omitted]
[info] ✔  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2024-10-13T19:32:02.400Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/black-lion-limo/services/cloudfunctions.googleapis.com 200
[debug] [2024-10-13T19:32:02.400Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/black-lion-limo/services/cloudfunctions.googleapis.com [omitted]
[info] ✔  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2024-10-13T19:32:02.400Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/black-lion-limo/adminSdkConfig [none]
[debug] [2024-10-13T19:32:02.668Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/black-lion-limo/adminSdkConfig 200
[debug] [2024-10-13T19:32:02.669Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/black-lion-limo/adminSdkConfig {"projectId":"black-lion-limo","storageBucket":"black-lion-limo.appspot.com"}
[debug] [2024-10-13T19:32:02.669Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/black-lion-limo/configs [none]
[debug] [2024-10-13T19:32:03.407Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/black-lion-limo/configs 200
[debug] [2024-10-13T19:32:03.408Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/black-lion-limo/configs {}
[debug] [2024-10-13T19:32:03.410Z] Validating nodejs source
[debug] [2024-10-13T19:32:03.891Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "deploy:functions": "firebase deploy --only functions"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-10-13T19:32:03.891Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2024-10-13T19:32:03.892Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-10-13T19:32:03.896Z] Found firebase-functions binary at '/Users/oleksandrkorzun/Desktop/test/limo/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8895

[debug] [2024-10-13T19:32:04.657Z] Got response from /__/functions.yaml {"endpoints":{"sendEmailFunction":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"sendEmailFunction"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged /Users/oleksandrkorzun/Desktop/test/limo/functions (61.61 KB) for uploading 
[debug] [2024-10-13T19:32:09.707Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/black-lion-limo/locations/-/functions [none]
[debug] [2024-10-13T19:32:10.343Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/black-lion-limo/locations/-/functions 200
[debug] [2024-10-13T19:32:10.344Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/black-lion-limo/locations/-/functions {}
[debug] [2024-10-13T19:32:10.347Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/black-lion-limo/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2024-10-13T19:32:10.917Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/black-lion-limo/locations/-/functions 200
[debug] [2024-10-13T19:32:10.918Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/black-lion-limo/locations/-/functions {"functions":[{"name":"projects/black-lion-limo/locations/us-central1/functions/sendEmailFunction","buildConfig":{"build":"projects/598290459206/locations/us-central1/builds/b717b863-25cb-410a-81a9-409731363461","runtime":"nodejs20","entryPoint":"sendEmailFunction","source":{"storageSource":{"bucket":"gcf-v2-sources-598290459206-us-central1","object":"sendEmailFunction/function-source.zip","generation":"1728847394943961"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/black-lion-limo/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-598290459206-us-central1","object":"sendEmailFunction/function-source.zip","generation":"1728847394943961"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/black-lion-limo/serviceAccounts/598290459206-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"state":"FAILED","updateTime":"2024-10-13T19:24:50.936684483Z","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"2f0fd2293cdff4581d537eef07c7374ebc2fe2fc"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/black-lion-limo/locations/us-central1/services/sendemailfunction for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-black-lion-limo.cloudfunctions.net/sendEmailFunction","createTime":"2024-10-13T19:23:15.171201991Z"}]}
[info] i  functions: ensuring required API run.googleapis.com is enabled... 
[info] i  functions: ensuring required API eventarc.googleapis.com is enabled... 
[info] i  functions: ensuring required API pubsub.googleapis.com is enabled... 
[info] i  functions: ensuring required API storage.googleapis.com is enabled... 
[debug] [2024-10-13T19:32:10.923Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/black-lion-limo/services/run.googleapis.com [none]
[debug] [2024-10-13T19:32:10.923Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/black-lion-limo/services/run.googleapis.com x-goog-quota-user=projects/black-lion-limo
[debug] [2024-10-13T19:32:10.925Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/black-lion-limo/services/eventarc.googleapis.com [none]
[debug] [2024-10-13T19:32:10.925Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/black-lion-limo/services/eventarc.googleapis.com x-goog-quota-user=projects/black-lion-limo
[debug] [2024-10-13T19:32:10.927Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/black-lion-limo/services/pubsub.googleapis.com [none]
[debug] [2024-10-13T19:32:10.927Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/black-lion-limo/services/pubsub.googleapis.com x-goog-quota-user=projects/black-lion-limo
[debug] [2024-10-13T19:32:10.929Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/black-lion-limo/services/storage.googleapis.com [none]
[debug] [2024-10-13T19:32:10.930Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/black-lion-limo/services/storage.googleapis.com x-goog-quota-user=projects/black-lion-limo
[debug] [2024-10-13T19:32:11.945Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/black-lion-limo/services/pubsub.googleapis.com 200
[debug] [2024-10-13T19:32:11.945Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/black-lion-limo/services/pubsub.googleapis.com [omitted]
[info] ✔  functions: required API pubsub.googleapis.com is enabled 
[debug] [2024-10-13T19:32:11.946Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/black-lion-limo/services/eventarc.googleapis.com 200
[debug] [2024-10-13T19:32:11.946Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/black-lion-limo/services/eventarc.googleapis.com [omitted]
[info] ✔  functions: required API eventarc.googleapis.com is enabled 
[debug] [2024-10-13T19:32:11.947Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/black-lion-limo/services/storage.googleapis.com 200
[debug] [2024-10-13T19:32:11.947Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/black-lion-limo/services/storage.googleapis.com [omitted]
[info] ✔  functions: required API storage.googleapis.com is enabled 
[debug] [2024-10-13T19:32:11.949Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/black-lion-limo/services/run.googleapis.com 200
[debug] [2024-10-13T19:32:11.949Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/black-lion-limo/services/run.googleapis.com [omitted]
[info] ✔  functions: required API run.googleapis.com is enabled 
[info] i  functions: generating the service identity for pubsub.googleapis.com... 
[info] i  functions: generating the service identity for eventarc.googleapis.com... 
[debug] [2024-10-13T19:32:11.949Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/598290459206/services/pubsub.googleapis.com:generateServiceIdentity [none]
[debug] [2024-10-13T19:32:11.950Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/598290459206/services/eventarc.googleapis.com:generateServiceIdentity [none]
[debug] [2024-10-13T19:32:12.292Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/598290459206/services/eventarc.googleapis.com:generateServiceIdentity 200
[debug] [2024-10-13T19:32:12.293Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/598290459206/services/eventarc.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-598290459206@gcp-sa-eventarc.iam.gserviceaccount.com","uniqueId":"108742546840568521731"}}
[debug] [2024-10-13T19:32:12.881Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/598290459206/services/pubsub.googleapis.com:generateServiceIdentity 200
[debug] [2024-10-13T19:32:12.881Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/598290459206/services/pubsub.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-598290459206@gcp-sa-pubsub.iam.gserviceaccount.com","uniqueId":"115077298487175921348"}}
[debug] [2024-10-13T19:32:12.884Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/black-lion-limo [none]
[debug] [2024-10-13T19:32:13.208Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/black-lion-limo 200
[debug] [2024-10-13T19:32:13.209Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/black-lion-limo {"projectId":"black-lion-limo","projectNumber":"598290459206","displayName":"black-lion-limo","name":"projects/black-lion-limo","resources":{"hostingSite":"black-lion-limo"},"state":"ACTIVE","etag":"1_7653883e-1cb2-4ded-88a9-2441138de2b2"}
[debug] [2024-10-13T19:32:13.212Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v2/projects/black-lion-limo/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2024-10-13T19:32:13.995Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v2/projects/black-lion-limo/locations/us-central1/functions:generateUploadUrl 200
[debug] [2024-10-13T19:32:13.995Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/black-lion-limo/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/gcf-v2-uploads-598290459206-us-central1/d8fe6193-76dd-4826-9250-e1140120125b.zip?GoogleAccessId=service-598290459206@gcf-admin-robot.iam.gserviceaccount.com&Expires=1728849733&Signature=Bdx%2FRXruY7u39wImK4Da5%2BhGq6gT25zKlCTv4vgDPsCMjnPhZG8nDeBBoqpYTm%2Bpjs1EtX2ptrrImAuAUsUk9igNZjY2VmQsiUXEuReASFiVzJ4AGGdeETk1thWvg0CdZ9a1o1LGjrSvtBWbW7RwWKl0bZ%2FAIYqh1NYrreKM74gDXw%2FEXvSMiZLRA%2FIlfH748xkKo5BfaKPH9b4dHngBGQXdPpnE%2FU3CWYpwI3TuV8KauATjajPnKlDXHPK5s0mKKJdOFXcB%2F0gIX81%2BfqcZ0GJw82vjIAstCN8lvNBirwieGKounNka4sYnyglmPPGPUoKjBTjq5udoiifUfpSsgw%3D%3D","storageSource":{"bucket":"gcf-v2-uploads-598290459206-us-central1","object":"d8fe6193-76dd-4826-9250-e1140120125b.zip"}}
[debug] [2024-10-13T19:32:13.998Z] >>> [apiv2][query] PUT https://storage.googleapis.com/gcf-v2-uploads-598290459206-us-central1/d8fe6193-76dd-4826-9250-e1140120125b.zip GoogleAccessId=service-598290459206%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1728849733&Signature=Bdx%2FRXruY7u39wImK4Da5%2BhGq6gT25zKlCTv4vgDPsCMjnPhZG8nDeBBoqpYTm%2Bpjs1EtX2ptrrImAuAUsUk9igNZjY2VmQsiUXEuReASFiVzJ4AGGdeETk1thWvg0CdZ9a1o1LGjrSvtBWbW7RwWKl0bZ%2FAIYqh1NYrreKM74gDXw%2FEXvSMiZLRA%2FIlfH748xkKo5BfaKPH9b4dHngBGQXdPpnE%2FU3CWYpwI3TuV8KauATjajPnKlDXHPK5s0mKKJdOFXcB%2F0gIX81%2BfqcZ0GJw82vjIAstCN8lvNBirwieGKounNka4sYnyglmPPGPUoKjBTjq5udoiifUfpSsgw%3D%3D
[debug] [2024-10-13T19:32:13.998Z] >>> [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-598290459206-us-central1/d8fe6193-76dd-4826-9250-e1140120125b.zip [stream]
[debug] [2024-10-13T19:32:14.600Z] <<< [apiv2][status] PUT https://storage.googleapis.com/gcf-v2-uploads-598290459206-us-central1/d8fe6193-76dd-4826-9250-e1140120125b.zip 200
[debug] [2024-10-13T19:32:14.600Z] <<< [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-598290459206-us-central1/d8fe6193-76dd-4826-9250-e1140120125b.zip [omitted]
[info] ✔  functions: functions folder uploaded successfully 
[info] i  functions: updating Node.js 20 (2nd Gen) function sendEmailFunction(us-central1)... 
[debug] [2024-10-13T19:32:14.608Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v2/projects/black-lion-limo/locations/us-central1/functions/sendEmailFunction updateMask=name%2CbuildConfig.runtime%2CbuildConfig.entryPoint%2CbuildConfig.source.storageSource.bucket%2CbuildConfig.source.storageSource.object%2CbuildConfig.environmentVariables%2CbuildConfig.sourceToken%2CserviceConfig.environmentVariables%2CserviceConfig.ingressSettings%2CserviceConfig.timeoutSeconds%2CserviceConfig.serviceAccountEmail%2CserviceConfig.availableMemory%2CserviceConfig.minInstanceCount%2CserviceConfig.maxInstanceCount%2CserviceConfig.maxInstanceRequestConcurrency%2CserviceConfig.availableCpu%2CserviceConfig.vpcConnector%2CserviceConfig.vpcConnectorEgressSettings%2Clabels%2CbuildConfig.buildEnvironmentVariables
[debug] [2024-10-13T19:32:14.609Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/black-lion-limo/locations/us-central1/functions/sendEmailFunction {"name":"projects/black-lion-limo/locations/us-central1/functions/sendEmailFunction","buildConfig":{"runtime":"nodejs20","entryPoint":"sendEmailFunction","source":{"storageSource":{"bucket":"gcf-v2-uploads-598290459206-us-central1","object":"d8fe6193-76dd-4826-9250-e1140120125b.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}},"serviceConfig":{"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"black-lion-limo\",\"storageBucket\":\"black-lion-limo.appspot.com\"}","GCLOUD_PROJECT":"black-lion-limo","EVENTARC_CLOUD_EVENT_SOURCE":"projects/black-lion-limo/locations/us-central1/services/sendEmailFunction","FUNCTION_TARGET":"sendEmailFunction"},"ingressSettings":null,"timeoutSeconds":null,"serviceAccountEmail":null,"availableMemory":"256Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"bd075791f1209e2aa3612fff2e11938b6639f32c"}}
[debug] [2024-10-13T19:32:16.037Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v2/projects/black-lion-limo/locations/us-central1/functions/sendEmailFunction 200
[debug] [2024-10-13T19:32:16.038Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/black-lion-limo/locations/us-central1/functions/sendEmailFunction {"name":"projects/black-lion-limo/locations/us-central1/operations/operation-1728847935357-62460c70ec329-fcf1e56a-6a6738b6","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-10-13T19:32:15.982301513Z","target":"projects/black-lion-limo/locations/us-central1/functions/sendEmailFunction","verb":"update","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2024-10-13T19:32:16.039Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/black-lion-limo/locations/us-central1/operations/operation-1728847935357-62460c70ec329-fcf1e56a-6a6738b6 [none]
[debug] [2024-10-13T19:32:16.781Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/black-lion-limo/locations/us-central1/operations/operation-1728847935357-62460c70ec329-fcf1e56a-6a6738b6 200
[debug] [2024-10-13T19:32:16.782Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/black-lion-limo/locations/us-central1/operations/operation-1728847935357-62460c70ec329-fcf1e56a-6a6738b6 {"name":"projects/black-lion-limo/locations/us-central1/operations/operation-1728847935357-62460c70ec329-fcf1e56a-6a6738b6","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-10-13T19:32:15.982301513Z","target":"projects/black-lion-limo/locations/us-central1/functions/sendEmailFunction","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/black-lion-limo/locations/us-central1/functions/sendEmailFunction","buildConfig":{"runtime":"nodejs20","entryPoint":"sendEmailFunction","source":{"storageSource":{"bucket":"gcf-v2-sources-598290459206-us-central1","object":"sendEmailFunction/function-source.zip","generation":"1728847935938371"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/black-lion-limo/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-598290459206-us-central1","object":"sendEmailFunction/function-source.zip","generation":"1728847394943961"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/black-lion-limo/serviceAccounts/598290459206-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/black-lion-limo/locations/us-central1/services/sendemailfunction","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"black-lion-limo\",\"storageBucket\":\"black-lion-limo.appspot.com\"}","GCLOUD_PROJECT":"black-lion-limo","EVENTARC_CLOUD_EVENT_SOURCE":"projects/black-lion-limo/locations/us-central1/services/sendEmailFunction","FUNCTION_TARGET":"sendEmailFunction","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"598290459206-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"firebase-functions-hash":"bd075791f1209e2aa3612fff2e11938b6639f32c"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/black-lion-limo/locations/us-central1/services/sendemailfunction for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-black-lion-limo.cloudfunctions.net/sendEmailFunction"},"stages":[{"name":"BUILD","message":"Creating build","state":"IN_PROGRESS","resource":"projects/598290459206/locations/us-central1/builds/b2cdb03a-0b3b-4731-8ba3-1c31027ed8ec","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/b2cdb03a-0b3b-4731-8ba3-1c31027ed8ec?project=598290459206"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/598290459206/locations/us-central1/builds/b2cdb03a-0b3b-4731-8ba3-1c31027ed8ec"},"done":false}
[debug] [2024-10-13T19:32:17.282Z] [update-default-us-central1-sendEmailFunction] Retrying task index 0
[debug] [2024-10-13T19:32:17.282Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/black-lion-limo/locations/us-central1/operations/operation-1728847935357-62460c70ec329-fcf1e56a-6a6738b6 [none]
[debug] [2024-10-13T19:32:18.028Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/black-lion-limo/locations/us-central1/operations/operation-1728847935357-62460c70ec329-fcf1e56a-6a6738b6 200
[debug] [2024-10-13T19:32:18.028Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/black-lion-limo/locations/us-central1/operations/operation-1728847935357-62460c70ec329-fcf1e56a-6a6738b6 {"name":"projects/black-lion-limo/locations/us-central1/operations/operation-1728847935357-62460c70ec329-fcf1e56a-6a6738b6","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-10-13T19:32:15.982301513Z","target":"projects/black-lion-limo/locations/us-central1/functions/sendEmailFunction","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/black-lion-limo/locations/us-central1/functions/sendEmailFunction","buildConfig":{"runtime":"nodejs20","entryPoint":"sendEmailFunction","source":{"storageSource":{"bucket":"gcf-v2-sources-598290459206-us-central1","object":"sendEmailFunction/function-source.zip","generation":"1728847935938371"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/black-lion-limo/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-598290459206-us-central1","object":"sendEmailFunction/function-source.zip","generation":"1728847394943961"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/black-lion-limo/serviceAccounts/598290459206-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/black-lion-limo/locations/us-central1/services/sendemailfunction","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"black-lion-limo\",\"storageBucket\":\"black-lion-limo.appspot.com\"}","GCLOUD_PROJECT":"black-lion-limo","EVENTARC_CLOUD_EVENT_SOURCE":"projects/black-lion-limo/locations/us-central1/services/sendEmailFunction","FUNCTION_TARGET":"sendEmailFunction","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"598290459206-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"firebase-functions-hash":"bd075791f1209e2aa3612fff2e11938b6639f32c"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/black-lion-limo/locations/us-central1/services/sendemailfunction for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-black-lion-limo.cloudfunctions.net/sendEmailFunction"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/598290459206/locations/us-central1/builds/b2cdb03a-0b3b-4731-8ba3-1c31027ed8ec","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/b2cdb03a-0b3b-4731-8ba3-1c31027ed8ec?project=598290459206"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/598290459206/locations/us-central1/builds/b2cdb03a-0b3b-4731-8ba3-1c31027ed8ec"},"done":false}
[debug] [2024-10-13T19:32:19.029Z] [update-default-us-central1-sendEmailFunction] Retrying task index 0
[debug] [2024-10-13T19:32:19.029Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/black-lion-limo/locations/us-central1/operations/operation-1728847935357-62460c70ec329-fcf1e56a-6a6738b6 [none]
[debug] [2024-10-13T19:32:19.748Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/black-lion-limo/locations/us-central1/operations/operation-1728847935357-62460c70ec329-fcf1e56a-6a6738b6 200
[debug] [2024-10-13T19:32:19.749Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/black-lion-limo/locations/us-central1/operations/operation-1728847935357-62460c70ec329-fcf1e56a-6a6738b6 {"name":"projects/black-lion-limo/locations/us-central1/operations/operation-1728847935357-62460c70ec329-fcf1e56a-6a6738b6","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-10-13T19:32:15.982301513Z","target":"projects/black-lion-limo/locations/us-central1/functions/sendEmailFunction","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/black-lion-limo/locations/us-central1/functions/sendEmailFunction","buildConfig":{"runtime":"nodejs20","entryPoint":"sendEmailFunction","source":{"storageSource":{"bucket":"gcf-v2-sources-598290459206-us-central1","object":"sendEmailFunction/function-source.zip","generation":"1728847935938371"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/black-lion-limo/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-598290459206-us-central1","object":"sendEmailFunction/function-source.zip","generation":"1728847394943961"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/black-lion-limo/serviceAccounts/598290459206-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/black-lion-limo/locations/us-central1/services/sendemailfunction","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"black-lion-limo\",\"storageBucket\":\"black-lion-limo.appspot.com\"}","GCLOUD_PROJECT":"black-lion-limo","EVENTARC_CLOUD_EVENT_SOURCE":"projects/black-lion-limo/locations/us-central1/services/sendEmailFunction","FUNCTION_TARGET":"sendEmailFunction","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"598290459206-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"firebase-functions-hash":"bd075791f1209e2aa3612fff2e11938b6639f32c"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/black-lion-limo/locations/us-central1/services/sendemailfunction for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-black-lion-limo.cloudfunctions.net/sendEmailFunction"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/598290459206/locations/us-central1/builds/b2cdb03a-0b3b-4731-8ba3-1c31027ed8ec","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/b2cdb03a-0b3b-4731-8ba3-1c31027ed8ec?project=598290459206"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/598290459206/locations/us-central1/builds/b2cdb03a-0b3b-4731-8ba3-1c31027ed8ec"},"done":false}
[debug] [2024-10-13T19:32:21.751Z] [update-default-us-central1-sendEmailFunction] Retrying task index 0
[debug] [2024-10-13T19:32:21.752Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/black-lion-limo/locations/us-central1/operations/operation-1728847935357-62460c70ec329-fcf1e56a-6a6738b6 [none]
[debug] [2024-10-13T19:32:22.489Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/black-lion-limo/locations/us-central1/operations/operation-1728847935357-62460c70ec329-fcf1e56a-6a6738b6 200
[debug] [2024-10-13T19:32:22.490Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/black-lion-limo/locations/us-central1/operations/operation-1728847935357-62460c70ec329-fcf1e56a-6a6738b6 {"name":"projects/black-lion-limo/locations/us-central1/operations/operation-1728847935357-62460c70ec329-fcf1e56a-6a6738b6","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-10-13T19:32:15.982301513Z","target":"projects/black-lion-limo/locations/us-central1/functions/sendEmailFunction","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/black-lion-limo/locations/us-central1/functions/sendEmailFunction","buildConfig":{"runtime":"nodejs20","entryPoint":"sendEmailFunction","source":{"storageSource":{"bucket":"gcf-v2-sources-598290459206-us-central1","object":"sendEmailFunction/function-source.zip","generation":"1728847935938371"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/black-lion-limo/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-598290459206-us-central1","object":"sendEmailFunction/function-source.zip","generation":"1728847394943961"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/black-lion-limo/serviceAccounts/598290459206-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/black-lion-limo/locations/us-central1/services/sendemailfunction","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"black-lion-limo\",\"storageBucket\":\"black-lion-limo.appspot.com\"}","GCLOUD_PROJECT":"black-lion-limo","EVENTARC_CLOUD_EVENT_SOURCE":"projects/black-lion-limo/locations/us-central1/services/sendEmailFunction","FUNCTION_TARGET":"sendEmailFunction","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"598290459206-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"firebase-functions-hash":"bd075791f1209e2aa3612fff2e11938b6639f32c"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/black-lion-limo/locations/us-central1/services/sendemailfunction for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-black-lion-limo.cloudfunctions.net/sendEmailFunction"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/598290459206/locations/us-central1/builds/b2cdb03a-0b3b-4731-8ba3-1c31027ed8ec","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/b2cdb03a-0b3b-4731-8ba3-1c31027ed8ec?project=598290459206"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/598290459206/locations/us-central1/builds/b2cdb03a-0b3b-4731-8ba3-1c31027ed8ec"},"done":false}
